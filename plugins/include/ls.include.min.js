/*! lazysizes - v0.5.3 - 2014-12-20
 Licensed MIT */
!function(a,b){"use strict";function c(a){var b,c,d;return a=a.trim(),c=a.match(z),c?(d=RegExp.$1,b={url:RegExp.$1,condition:r.include.conditions[RegExp.$3]||RegExp.$2||null,name:RegExp.$3}):(d=a,b={url:a,condition:null,name:""}),b.urls={},d=d.split(x).forEach(function(a){a.match(y)?b.urls[RegExp.$1]=RegExp.$2:b.urls.include=a}),b}function d(a){var b,d=a.getAttribute("data-include")||"",e=a._lazyInclude;return e&&e.str==d||(e={str:d,srces:(a.getAttribute("data-include")||"").split(v).map(c)},(!(b=e.srces.length)||e.srces[b-1].condition)&&e.srces.push({url:"",condition:null,name:"initial",content:a.innerHTML}),a._lazyInclude=e,e.srces.length>1?lazySizes.aC(a,"lazyconditionalinclude"):lazySizes.rC(a,"lazyconditionalinclude")),e}function e(b,c){var d=!c.condition;return c.condition&&(f(),u[c.name]?d=!0:a.matchMedia&&"string"==typeof c.condition?d=(matchMedia(c.condition)||{}).matches:"function"==typeof c.condition&&(d=c.condition(b,c))),d}function f(){var a;u||(t||(t=b.querySelector(s.contentElement)),t?(a=(getComputedStyle(t,":after").getPropertyValue("content")||"none").replace(A,""),u={},a&&(u[a]=1),a=(getComputedStyle(t,":before").getPropertyValue("content")||"none").replace(A,""),a&&(u[a]=1)):u={})}function g(a){var b,c,d=a._lazyInclude;if(d&&d.srces)for(b=0;b<d.srces.length&&(c=d.srces[b],!e(a,c));b++);return c&&c!=d.current||(c=null),c}function h(a,b){var c=new XMLHttpRequest;c.addEventListener("readystatechange",function(){var a=this.DONE||4;this.readyState===a&&(b(c),c=null)},!1),c.open.apply(c,a.openArgs),c.setRequestHeader("X-Requested-With","XMLHttpRequest"),a.xhrModifier&&a.xhrModifier(c,elem,candidate),c.send(a.sendData)}function i(a,b){a=a.split("|,|"),require(a,function(){b(Array.prototype.slice.call(arguments))})}function j(a){if(!w[a]){var c=b.createElement("link"),d=b.getElementsByTagName("script")[0];c.rel="stylesheet",c.href=a,d.parentNode.insertBefore(c,d),w[a]=!0,w[c.href]=!0}}function k(a){a=a.split("|,|"),a.forEach(j)}function l(a){a&&"function"==typeof a.lazytransform&&a.lazytransform(this)}function m(a){a&&"function"==typeof a.lazyunload&&a.lazyunload(this)}function n(a){a&&"function"==typeof a.lazyload&&a.lazyload(this)}function o(b,c){var d,e,f,g=b._lazyInclude.current||null,j={candidate:c,openArgs:["GET",c.urls.include,!0],sendData:null,xhrModifier:null,content:c.content,old:g},o=lazySizes.fire(b,"lazyincludeload",j);return o.defaultPrevented?void D.d():(d=function(){var d,h=e.status,i={candidate:c,content:e.content||e.responseText,text:e.responseText||e.content,response:e.response,xml:e.responseXML,isSuccess:"status"in e?h>=200&&300>h||304===h:!0,old:g},j={element:b,details:i};c.modules=f,g&&g.modules&&(g.modules.forEach(m,j),g.modules=null),f.forEach(l,j),d=lazySizes.fire(b,"lazyincludeloaded",i),i.isSuccess&&!d.defaultPrevented&&null!=i.content&&i.content!=b.innerHTML&&(a.jQuery?jQuery(b).html(i.content):b.innerHTML=i.content),D.d(),f.forEach(n,j),lazySizes.fire(b,"lazyincluded",i),e=null},b._lazyInclude.current=c,b.setAttribute("data-currentinclude",c.name),null!=j.content?(e=j,f=[],void d()):(c.urls.css&&k(c.urls.css),c.urls.include?h(j,function(a){e=a,f&&d()}):e=j,void(c.urls.require?i(c.urls.require,function(a){f=a,e&&d()}):f=[])))}function p(a){var b,c=d(a);return c.srces.length&&B.contains(a)?(b=g(a),b&&o(a,b),!0):void 0}function q(a){!a.defaultPrevented&&a.target.getAttribute("data-include")&&(D.q(a.target),a.details.stopSwitchClass=!0)}if(b.getElementsByClassName){var r,s,t,u,v=/\s*,+\s+/,w={},x=/\s+/,y=/^(require|css)\:(.+)/,z=/(.+)\s+(\(\s*(.+)\s*\))/,A=/['"]/g,B=b.documentElement,C=b.getElementsByClassName("lazyconditionalinclude"),D=function(){var a=2,b=3,c=a,d=0,e=0,f=[],g=function(){var a,b=function(){f.length&&(d=0,f.d())};return function(){clearTimeout(a),a=setTimeout(b,999)}}();return{q:function(a){var h=null==a.getAttribute("data-lazyqueue");h&&(e++,c=b),d>c?f[h?"unshift":"push"](a):p(a)&&(d++,g())},d:function(){if(d&&d--,e>0&&(e--,e||(c=a)),!(d>c)){for(;f.length;)if(p(f.shift())){d++;break}g()}}}}(),E=function(){var a,b=function(){for(var a=0,b=C.length;b>a;a++)!lazySizes.hC(C[a],r.lazyClass)&&g(C[a])&&lazySizes.aC(C[a],r.lazyClass)};return function(c){clearTimeout(a),u=null,a=setTimeout(b,"resize"==c.type?31:0)}}();r=a.lazySizes&&lazySizes.cfg||a.lazySizesConfig,r||(r={},a.lazySizesConfig=r),r.include||(r.include={}),s=r.include,s.contentElement||(s.contentElement="html"),s.conditions||(s.conditions={}),"preloadAfterLoad"in r||(r.preloadAfterLoad=!0),b.addEventListener("lazybeforeunveil",q,!1),addEventListener("resize",E,!1),addEventListener("lazyrefreshincludes",E,!1)}}(window,document);