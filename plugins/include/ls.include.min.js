/*! lazysizes - v0.5.3 - 2014-12-19
 Licensed MIT */
!function(a,b){"use strict";function c(a){var b,c;return a=a.trim(),c=a.match(p),b=c?{url:RegExp.$1,condition:k.include.conditions[RegExp.$3]||RegExp.$2||null,name:RegExp.$3}:{url:a,condition:null,name:""}}function d(a){var b,d=a.getAttribute("data-include")||"",e=a._lazyInclude;return e&&e.str==d||(e={str:d,srces:(a.getAttribute("data-include")||"").split(o).map(c)},(!(b=e.srces.length)||e.srces[b-1].condition)&&e.srces.push({url:"",condition:null,name:"initial",content:a.innerHTML}),a._lazyInclude=e,e.srces.length>1?lazySizes.aC(a,"lazyconditionalinclude"):lazySizes.rC(a,"lazyconditionalinclude")),e}function e(b,c){var d=!c.condition;return c.condition&&(f(),n[c.name]?d=!0:a.matchMedia&&"string"==typeof c.condition?d=(matchMedia(c.condition)||{}).matches:"function"==typeof c.condition&&(d=c.condition(b,c))),d}function f(){var a;n||(m||(m=b.querySelector(l.contentElement)),m?(a=(getComputedStyle(m,":after").getPropertyValue("content")||"none").replace(q,""),n={},a&&(n[a]=1),a=(getComputedStyle(m,":before").getPropertyValue("content")||"none").replace(q,""),a&&(n[a]=1)):n={})}function g(a){var b,c,d=a._lazyInclude;if(d&&d.srces)for(b=0;b<d.srces.length&&(c=d.srces[b],!e(a,c));b++);return c&&c!=d.current||(c=null),c}function h(b,c){var d,e,f=b._lazyInclude.current||null,g={candidate:c,openArgs:["GET",c.url,!0],sendData:null,xhrModifier:null,content:c.content,old:f},h=lazySizes.fire(b,"lazyincludeload",g);return h.defaultPrevented?void s.d():(e=function(d){var e=d.status,g={candidate:c,content:d.content||d.responseText,text:d.responseText||d.content,response:d.response,xml:d.responseXML,isSuccess:"status"in d?e>=200&&300>e||304===e:!0,old:f},h=lazySizes.fire(b,"lazyincludeloaded",g);g.isSuccess&&!h.defaultPrevented&&g.content!=b.innerHTML&&(a.jQuery?jQuery(b).html(g.content):b.innerHTML=g.content),s.d(),lazySizes.fire(b,"lazyincluded",g)},b._lazyInclude.current=c,b.setAttribute("data-currentinclude",c.name),g.content?void e(g):(d=new XMLHttpRequest,d.addEventListener("readystatechange",function(){var a=this.DONE||4;this.readyState===a&&(e(d),d=null)},!1),d.open.apply(d,g.openArgs),d.setRequestHeader("X-Requested-With","XMLHttpRequest"),g.xhrModifier&&g.xhrModifier(d,b,c),void d.send(g.sendData)))}function i(a){var c,e=d(a);return e.srces.length&&b.contains(a)?(c=g(a),c&&h(a,c),!0):void 0}function j(a){!a.defaultPrevented&&a.target.getAttribute("data-include")&&(s.q(a.target),a.details.stopSwitchClass=!0)}if(b.getElementsByClassName){var k,l,m,n,o=/\s*,+\s+/,p=/(.+)\s+(\(\s*(.+)\s*\))/,q=/['"]/g,r=b.getElementsByClassName("lazyconditionalinclude"),s=function(){var a=2,b=a+1,c=a,d=0,e=0,f=[],g=function(){var a,b=function(){f.length&&(d=0,f.d())};return function(){clearTimeout(a),a=setTimeout(b,999)}}();return{q:function(a){var h=null==a.getAttribute("data-lazyqueue");h&&(e++,c=b),d>c?f[h?"unshift":"push"](a):i(a)&&(d++,g())},d:function(){if(d&&d--,e>0&&(e--,e||(c=a)),!(d>c)){for(;f.length;)if(i(f.shift())){d++;break}g()}}}}(),t=function(){var a,b=function(){for(var a=0,b=r.length;b>a;a++)!lazySizes.hC(r[a],k.lazyClass)&&g(r[a])&&lazySizes.aC(r[a],k.lazyClass)};return function(c){clearTimeout(a),n=null,a=setTimeout(b,"resize"==c.type?31:0)}}();k=a.lazySizes&&lazySizes.cfg||a.lazySizesConfig,k||(k={},a.lazySizesConfig=k),k.include||(k.include={}),l=k.include,l.contentElement||(l.contentElement="html"),l.conditions||(l.conditions={}),"preloadAfterLoad"in k||(k.preloadAfterLoad=!0),b.addEventListener("lazybeforeunveil",j,!1),addEventListener("resize",t,!1),addEventListener("lazyrefreshincludes",t,!1)}}(window,document);