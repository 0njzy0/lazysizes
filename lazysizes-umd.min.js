/*! lazysizes - v2.0.0-pre-alpha */
!function(a,b){var c=b(a,a.document);a.lazySizes=c,"object"==typeof module&&module.exports?module.exports=c:"function"==typeof define&&define.amd&&define(c)}(window,function(a,b){"use strict";if(b.getElementsByClassName){var c,d=b.documentElement,e=a.Date,f=a.HTMLPictureElement,g="addEventListener",h="getAttribute",i=a[g],j=a.setTimeout,k=a.requestAnimationFrame||j,l=/^picture$/i,m=["load","error","lazyincluded","_lazyloaded"],n={},o=Array.prototype.forEach,p=function(a,b){return n[b]||(n[b]=new RegExp("(\\s|^)"+b+"(\\s|$)")),n[b].test(a[h]("class")||"")&&n[b]},q=function(a,b){p(a,b)||a.setAttribute("class",(a[h]("class")||"").trim()+" "+b)},r=function(a,b){var c;(c=p(a,b))&&a.setAttribute("class",(a[h]("class")||"").replace(c," "))},s=function(a,b,c){var d=c?g:"removeEventListener";c&&s(a,b),m.forEach(function(c){a[d](c,b)})},t=function(a,c,d,e,f){var g=b.createEvent("CustomEvent");return g.initCustomEvent(c,!e,!f,d||{}),a.dispatchEvent(g),g},u=function(b,d){var e;!f&&(e=a.picturefill||c.pf)?e({reevaluate:!0,elements:[b]}):d&&d.src&&(b.src=d.src)},v=function(a,b){return(getComputedStyle(a,null)||{})[b]},w=function(a,b,d){for(d=d||a.offsetWidth;d<c.minSize&&b&&!a._lazysizesWidth;)d=b.offsetWidth,b=b.parentNode;return d},x=function(){var a,c,d=[],e=function(){var b;for(a=!0,c=!1;d.length;)b=d.shift(),b[0].apply(b[1],b[2]);a=!1};return function(f){a?f.apply(this,arguments):(d.push([f,this,arguments]),c||(c=!0,(b.hidden?j:k)(e)))}}(),y=function(a,b){return b?function(){x(a)}:function(){var b=this,c=arguments;x(function(){a.apply(b,c)})}},z=function(b){var c,d=0,f=a.requestIdleCallback,g=99,h=999,i=h,k=function(){c=!1,d=e.now(),b()},l=f?function(){f(k,{timeout:i}),i!==h&&(i=h)}:y(function(){j(k)},!0);return function(a){var b;(a=a===!0)&&(i=66),c||(c=!0,b=g-(e.now()-d),0>b&&(b=0),a||9>b&&f?l():j(l,b))}},A=function(a){var b,c,d=99,f=function(){var g=e.now()-c;d>g?j(f,d-g):(b=null,a())};return function(){c=e.now(),b||(b=j(f,d))}},B=function(){var f,k,m,n,w,B,D,E,F,G,H,I,J,K,L,M=/^img$/i,N=/^iframe$/i,O="onscroll"in a&&!/glebot/.test(navigator.userAgent),P=0,Q=0,R=0,S=0,T=function(a){R--,a&&a.target&&s(a.target,T),(!a||0>R||!a.target)&&(R=0)},U=function(a,c){var e,f=a,g="hidden"==v(b.body,"visibility")||"hidden"!=v(a,"visibility");for(F-=c,I+=c,G-=c,H+=c;g&&(f=f.offsetParent)&&f!=b.body&&f!=d;)g=(v(f,"opacity")||1)>0,g&&"visible"!=v(f,"overflow")&&(e=f.getBoundingClientRect(),g=H>e.left&&G<e.right&&I>e.top-1&&F<e.bottom+1);return g},V=function(){var a,b,e,g,i,j,l,n,o;if((w=c.loadMode)&&8>R&&(a=f.length)){b=0,S++,null==K&&("expand"in c||(c.expand=d.clientHeight>600?d.clientWidth>600?550:410:359),J=c.expand,K=J*c.expFactor),K>Q&&1>R&&S>3&&w>2?(Q=K,S=0):Q=w>1&&S>2&&6>R?J:P;for(;a>b;b++)if(f[b]&&!f[b]._lazyRace)if(O)if((n=f[b][h]("data-expand"))&&(j=1*n)||(j=Q),o!==j&&(D=innerWidth+j*L,E=innerHeight+j,l=-1*j,o=j),e=f[b].getBoundingClientRect(),(I=e.bottom)>=l&&(F=e.top)<=E&&(H=e.right)>=l*L&&(G=e.left)<=D&&(I||H||G||F)&&(m&&3>R&&!n&&(3>w||4>S)||U(f[b],j))){if(ba(f[b]),i=!0,R>9)break}else!i&&m&&!g&&4>R&&4>S&&w>2&&(k[0]||c.preloadAfterLoad)&&(k[0]||!n&&(I||H||G||F||"auto"!=f[b][h](c.sizesAttr)))&&(g=k[0]||f[b]);else ba(f[b]);g&&!i&&ba(g)}},W=z(V),X=function(a){q(a.target,c.loadedClass),r(a.target,c.loadingClass),s(a.target,Z)},Y=y(X),Z=function(a){Y({target:a.target})},$=function(a,b){try{a.contentWindow.location.replace(b)}catch(c){a.src=b}},_=function(a){var b,d,e=a[h](c.srcsetAttr);(b=c.customMedia[a[h]("data-media")||a[h]("media")])&&a.setAttribute("media",b),e&&a.setAttribute("srcset",e),b&&(d=a.parentNode,d.insertBefore(a.cloneNode(),a),d.removeChild(a))},aa=y(function(a,b,d,e,f){var g,i,k,m,p,v;(p=t(a,"lazybeforeunveil")).defaultPrevented||(e&&(d?q(a,c.autosizesClass):a.setAttribute("sizes",e)),i=a[h](c.srcsetAttr),g=a[h](c.srcAttr),f&&(k=a.parentNode,m=k&&l.test(k.nodeName||"")),v=p.detail.firesLoad||"src"in a&&(i||g||m),p={target:a},v&&(s(a,T,!0),clearTimeout(n),n=j(T,2500),q(a,c.loadingClass),s(a,Z,!0)),m&&o.call(k.getElementsByTagName("source"),_),i?a.setAttribute("srcset",i):g&&!m&&(N.test(a.nodeName)?$(a,g):a.src=g),(i||m)&&u(a,{src:g})),x(function(){a._lazyRace&&delete a._lazyRace,r(a,c.lazyClass),(!v||a.complete)&&(v?T(p):R--,X(p))})}),ba=function(a){var b,d=M.test(a.nodeName),e=d&&(a[h](c.sizesAttr)||a[h]("sizes")),f="auto"==e;(!f&&m||!d||!a.src&&!a.srcset||a.complete||p(a,c.errorClass))&&(f&&(b=a.offsetWidth,C.updateElem(a,!0,b)),a._lazyRace=!0,R++,aa(a,b,f,e,d))},ca=function(){if(!m){if(e.now()-B<999)return void j(ca,999);var a=A(function(){c.loadMode=3,W()});m=!0,c.loadMode=3,W(),i("scroll",function(){3==c.loadMode&&(c.loadMode=2),a()},!0)}};return{_:function(){B=e.now(),f=b.getElementsByClassName(c.lazyClass),k=b.getElementsByClassName(c.lazyClass+" "+c.preloadClass),L=c.hFac,i("scroll",W,!0),i("resize",W,!0),a.MutationObserver?new MutationObserver(W).observe(d,{childList:!0,subtree:!0,attributes:!0}):(d[g]("DOMNodeInserted",W,!0),d[g]("DOMAttrModified",W,!0),setInterval(W,999)),i("hashchange",W,!0),["focus","mouseover","click","load","transitionend","animationend","webkitAnimationEnd"].forEach(function(a){b[g](a,W,!0)}),/d$|^c/.test(b.readyState)?ca():(i("load",ca),b[g]("DOMContentLoaded",W),j(ca,2e4)),W(f.length>0)},checkElems:W,unveil:ba}}(),C=function(){var a,d=y(function(a,b,c,d){var e,f,g;if(a._lazysizesWidth=d,d+="px",a.setAttribute("sizes",d),l.test(b.nodeName||""))for(e=b.getElementsByTagName("source"),f=0,g=e.length;g>f;f++)e[f].setAttribute("sizes",d);c.detail.dataAttr||u(a,c.detail)}),e=function(a,b,c){var e,f=a.parentNode;f&&(c=w(a,f,c),e=t(a,"lazybeforesizes",{width:c,dataAttr:!!b}),e.defaultPrevented||(c=e.detail.width,c&&c!==a._lazysizesWidth&&d(a,f,e,c)))},f=function(){var b,c=a.length;if(c)for(b=0;c>b;b++)e(a[b])},g=A(f);return{_:function(){a=b.getElementsByClassName(c.autosizesClass),i("resize",g)},checkElems:g,updateElem:e}}(),D=function(){D.i||(D.i=!0,C._(),B._())};return function(){var b,d={lazyClass:"lazyload",loadedClass:"lazyloaded",loadingClass:"lazyloading",preloadClass:"lazypreload",errorClass:"lazyerror",autosizesClass:"lazyautosizes",srcAttr:"data-src",srcsetAttr:"data-srcset",sizesAttr:"data-sizes",minSize:40,customMedia:{},init:!0,expFactor:1.7,hFac:.8,loadMode:2};c=a.lazySizesConfig||a.lazysizesConfig||{};for(b in d)b in c||(c[b]=d[b]);a.lazySizesConfig=c,j(function(){c.init&&D()})}(),{cfg:c,autoSizer:C,loader:B,init:D,uP:u,aC:q,rC:r,hC:p,fire:t,gW:w,rAF:x}}});